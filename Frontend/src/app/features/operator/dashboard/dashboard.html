<div class="flex flex-col gap-y-8">
  <app-header
    headline="Panel de Estadísticas"
    description="Echa un vistazo a todas las operaciones del portal."
    [menuItems]="menu"
  />
  @if (store.status() === 'loading') {
  <app-loading-spinner message="Recopilando los datos..." />
  } @else if (store.status() === 'success' && store.dashboard()) {
  <section class="flex flex-col gap-y-3.5 sm:flex-row sm:justify-center gap-x-7">
    <p-card>
      <div class="flex flex-col gap-y-1.5 font-semibold text-center">
        <h3 class="text-surface-600 text-2xl sm:text-3xl">
          {{ store.dashboard()?.totalCompanies ?? 0 }}
        </h3>
        <h4 class="text-surface-500 text-base sm:text-lg">Total de Empresas</h4>
      </div>
    </p-card>
    <p-card>
      <div class="flex flex-col gap-y-1.5 font-semibold text-center">
        <h3 class="text-surface-600 text-2xl sm:text-3xl">
          {{ store.dashboard()?.totalUsers ?? 0 }}
        </h3>
        <h4 class="text-surface-500 text-base sm:text-lg">Total de Usuarios</h4>
      </div>
    </p-card>
  </section>
  <section class="flex flex-col gap-y-3.5 items-center lg:flex-row md:justify-between gap-x-5">
    <app-chart-item
      headline="Solicitudes de Crédito"
      [data]="store.dashboard()?.applicationsByStatus ?? {}"
      [total]="store.dashboard()?.totalCreditApplications ?? 0"
      [backgroundColors]="getBackgroundColors"
      [hoverBackgroundColors]="getHoverBackgroundColors"
      class="lg:flex-1/2"
    />
    <app-chart-item
      headline="Verificaciones"
      [data]="store.dashboard()?.kycByStatus ?? {}"
      [total]="store.dashboard()?.totalKyc ?? 0"
      [backgroundColors]="getBackgroundColors"
      [hoverBackgroundColors]="getHoverBackgroundColors"
      class="lg:flex-1/2"
    />
  </section>
  }
</div>
